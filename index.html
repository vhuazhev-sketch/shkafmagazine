<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üï∏Ô∏è –®–ö–ê–§ ‚Äî –º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã</title>
    <!-- –°–∫—Ä–∏–ø—Ç Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
    <header class="topbar">
        <div class="brand">üï∏Ô∏è –®–ö–ê–§ üï∏Ô∏è</div>
    </header>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="content">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <section id="mainPage" class="page active">
            <!-- –ü–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
            <div class="controls">
                <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞...">
                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ app.js –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∏–º–µ—é—â–∏—Ö—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
                <select id="categoryFilter" class="category-select">
                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                </select>
                <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —Ü–µ–Ω–µ (–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑) -->
                <button id="sortBtn" class="sort-btn" title="–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ü–µ–Ω–µ">üîΩ</button>
            </div>
            <!-- –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div id="productsGrid" class="products-grid"></div>
        </section>
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ -->
        <section id="productPage" class="page">
            <button class="back-btn" id="backToCatalog">‚Üê –ù–∞–∑–∞–¥</button>
            <div class="product-view">
                <div class="product-hero">
                    <div class="product-img" id="productImg"></div>
                    <div class="variants" id="productVariants"></div>
                </div>
                <div class="product-name" id="productName"></div>
                <div class="meta-row">
                    <div class="meta-left" id="productReviewCount"></div>
                    <div class="meta-right" id="productPrice"></div>
                </div>
                <div class="product-desc" id="productDesc"></div>
                <!-- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —É —Ç–æ–≤–∞—Ä–∞ –µ—Å—Ç—å —Ä–∞–∑–º–µ—Ä—ã) -->
                <select id="sizeSelect" class="size-select" style="display:none"></select>
                <!-- –ö–Ω–æ–ø–∫–∏: –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –∫—É–ø–∏—Ç—å -->
                <button id="addToCartBtn" class="buy-btn secondary-btn">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                <button id="buyBtn" class="buy-btn">–ö—É–ø–∏—Ç—å</button>
                <!-- –ë–ª–æ–∫ –æ—Ç–∑—ã–≤–æ–≤ -->
                <div id="productReviews" class="product-reviews"></div>
                <button id="productReviewBtn" class="review-btn">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                <!-- –ê–¥–º–∏–Ω-–∫–Ω–æ–ø–∫–∏ -->
                <div id="adminActions" class="admin-actions"></div>
            </div>
            <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
            <input type="file" id="imageUpload" accept="image/png" style="display:none">
        </section>
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∑—ã–≤–æ–≤ -->
        <section id="reviewsPage" class="page">
            <h2>–û—Ç–∑—ã–≤—ã</h2>
            <div id="allReviewsContainer"></div>
        </section>
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
        <section id="cartPage" class="page">
            <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
            <div id="cartItems"></div>
            <button id="checkoutBtn" class="buy-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </section>
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
        <section id="supportPage" class="page">
            <h2>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
            <a class="support-btn" href="https://t.me/theemptyprod" target="_blank">–ù–∞–ø–∏—Å–∞—Ç—å @theemptyprod</a>
            <a class="support-btn" href="https://t.me/cryptowichser" target="_blank">–ù–∞–ø–∏—Å–∞—Ç—å @cryptowichser</a>
            <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.  –ù–µ–±–æ–ª—å—à–∞—è –∫—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ —Å
                 —ç–º–æ–¥–∑–∏ –∫–ª—é—á–∞, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –≤—Ö–æ–¥–∞ –∏–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç
                 –∏–∑ –∞–¥–º–∏–Ω‚Äë—Ä–µ–∂–∏–º–∞.  –î–∞–ª—å–Ω–µ–π—à–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ app.js. -->
            <button id="adminAuthBtn" class="admin-auth-btn" title="–ê–¥–º–∏–Ω —Ä–µ–∂–∏–º">üîë</button>
        </section>
    </main>
    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottomnav">
        <button type="button" class="tab active" data-page="mainPage" aria-label="–ì–ª–∞–≤–Ω–∞—è">üè†</button>
        <button type="button" class="tab" data-page="reviewsPage" aria-label="–û—Ç–∑—ã–≤—ã">‚≠ê</button>
        <button type="button" class="tab" data-page="supportPage" aria-label="–ü–æ–¥–¥–µ—Ä–∂–∫–∞">üí¨</button>
        <button type="button" class="tab" data-page="cartPage" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">üõí</button>
    </nav>
    <!-- Firebase SDK via CDN.  We import the necessary modules and initialize
         our app here.  Expose the Firebase app and services on the global
         window object so that the rest of the site (e.g. app.js) can use
         them.  Using type="module" allows us to use ES module imports. -->
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js';
      import { getFirestore } from 'https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js';
      import { getAuth } from 'https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js';
      import { getStorage } from 'https://www.gstatic.com/firebasejs/12.9.0/firebase-storage.js';

      // Firebase configuration provided by the user.  These credentials are
      // specific to your Firebase project and must remain unchanged unless
      // regenerated in the Firebase console.
      const firebaseConfig = {
        apiKey: "AIzaSyArq9E8ENf2ZnzrEUluNMVRahUej9dlPqo",
        authDomain: "shkaf-shop-58b77.firebaseapp.com",
        projectId: "shkaf-shop-58b77",
        storageBucket: "shkaf-shop-58b77.firebasestorage.app",
        messagingSenderId: "539700814175",
        appId: "1:539700814175:web:f96562ee3a46ad828816ea"
      };

      // Initialize Firebase and attach the app and common services to the global
      // window object.  This makes them accessible from other scripts
      // (including app.js) without having to repeat the initialization.
      const firebaseApp = initializeApp(firebaseConfig);
      window.firebaseApp = firebaseApp;
      window.db = getFirestore(firebaseApp);
      window.auth = getAuth(firebaseApp);
      window.storage = getStorage(firebaseApp);
      console.log('Firebase initialized via CDN');
    </script>
    <!-- Load the main application logic as a module so that it can use
         modern JavaScript features. -->
    <script type="module" src="./app.js"></script>
</body>
</html>